<div id="<%= dom_id todo %>" class="todo-card <%= 'completed' if todo.completed %>">
  <div class="todo-checkbox">
    <%= form_with model: todo, method: :patch, class: "checkbox-form" do |f| %>
      <%= f.check_box :completed, 
          onchange: "this.form.requestSubmit()", 
          class: "todo-check",
          checked: todo.completed %>
    <% end %>
  </div>
  
  <div class="todo-content">
    <h3 class="todo-title"><%= todo.title %></h3>
    <% if todo.description.present? %>
      <div data-controller="read-more">
        <p class="todo-description line-clamp-3" data-read-more-target="content">
          <%= todo.description %>
        </p>
        <button type="button" 
                class="read-more-btn hidden" 
                data-read-more-target="expandButton" 
                data-action="read-more#expand">
          Á∂ö„Åç„ÇíË™≠„ÇÄ
        </button>
        <button type="button" 
                class="read-more-btn hidden" 
                data-read-more-target="collapseButton" 
                data-action="read-more#collapse">
          Èñâ„Åò„Çã
        </button>
      </div>
    <% end %>
    <div class="todo-meta">
      <span class="todo-date">
        <%= todo.created_at.strftime("%YÂπ¥%mÊúà%dÊó•") %>
      </span>
      <span class="todo-status <%= todo.completed ? 'status-done' : 'status-pending' %>">
        <%= todo.completed ? 'ÂÆå‰∫Ü' : 'Êú™ÂÆå‰∫Ü' %>
      </span>
    </div>
  </div>
  
  <div class="todo-actions">
    <%= link_to edit_todo_path(todo), class: "action-btn edit-btn", title: "Á∑®ÈõÜ" do %>
      ‚úèÔ∏è
    <% end %>
    <%= button_to todo_path(todo), method: :delete, 
        class: "action-btn delete-btn", 
        title: "ÂâäÈô§",
        form: { data: { turbo_confirm: "„Åì„ÅÆ„Çø„Çπ„ÇØ„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü" } } do %>
      üóëÔ∏è
    <% end %>
  </div>
</div>
